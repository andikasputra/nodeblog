<%- include('../partials/header') %>
<div class="container-fluid">
	<div class="row">
		<div class="col-md-12">
			<div class="card">
				<div class="header">
					<h4 class="title">Posts</h4>
					<p class="category">Here is all your posts</p>

					<a href="/admin/posts/add" class="btn btn-primary">Add Post</a>
				</div>
				<div class="content table-responsive table-full-width">
					<table class="table table-hover table-striped">
						<thead>
							<th>No</th>
							<th>Title</th>
							<th>Category</th>
							<th>Author</th>
							<th>Date</th>
							<th>Action</th>
						</thead>
						<tbody>
							<% posts.map((post, index) => { %>
								<tr>
									<td><%= index+1 %></td>
									<td><%= post.dataValues.title %></td>
									<td><%= post.dataValues.Category.dataValues.name %></td>
									<td><%= post.dataValues.User.dataValues.username %></td>
									<td><%= post.dataValues.createdAt %></td>
									<td>
											<a href='/admin/posts/<%= post.dataValues.id %>/edit' class='btn btn-warning btn-sm'>Edit</a>
											<a href='/admin/posts/<%= post.dataValues.id %>/delete' onclick="return confirm('Are you sure you want to delete this post?')" class='btn btn-default btn-sm'>Hapus</a>
									</td>
								</tr>
							<% }) %>
						</tbody>
					</table>

				</div>
			</div>
		</div>

	</div>
</div>

<%- include('../partials/footer') %>